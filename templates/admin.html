<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Admin Paneli</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            background-color: #f8f9fa;
            margin: 0;
            padding: 0;
        }
        .header {
            background-color: #007bff;
            color: white;
            text-align: center;
            padding: 15px 0;
        }
        .content {
            padding: 20px;
        }
        .section {
            margin-bottom: 20px;
        }
        .section h2 {
            background-color: #007bff;
            color: white;
            padding: 10px;
            border-radius: 5px;
        }
        .button-group button {
            margin: 5px;
            padding: 10px 15px;
            border: none;
            border-radius: 5px;
            cursor: pointer;
        }
        .button-group .green {
            background-color: #28a745;
            color: white;
        }
        .button-group .gray {
            background-color: #6c757d;
            color: white;
        }
        .button-group .blue {
            background-color: #007bff;
            color: white;
        }
    </style>
</head>
<body>
    <div class="header">
        <h1>Admin Paneli</h1>
    </div>
    <div class="content">
        <div class="section">
            <h2>Çay Durumu Yönetimi</h2>
            <div class="button-group">
                <button onclick="updateTeaStatus('ready')" class="green">Çayı Hazır Yap</button>
                <button onclick="updateTeaStatus('not_ready')" class="gray">Çay Hazır Değil</button>
                <button onclick="updateTeaStatus('almost_done')" class="blue">Çay Bitmek Üzere..</button>
                <button onclick="updateTeaStatus('finished')" class="gray">Çay Bitti</button>
            </div>
            <div>
                <button onclick="adjustTeaTimer(-5)">-5 Dakika</button>
                <span id="tea-timer">0 Dakika</span>
                <button onclick="adjustTeaTimer(5)">+5 Dakika</button>
            </div>
        </div>
        <div class="section">
            <h2>Su Durumu Yönetimi</h2>
            <div class="button-group">
                <button onclick="updateWaterStatus('ready')" class="green">Su Hazır</button>
                <button onclick="adjustWaterTimer(-5)">-5 Dakika</button>
                <span id="water-timer">0 Dakika</span>
                <button onclick="adjustWaterTimer(5)">+5 Dakika</button>
            </div>
        </div>
    </div>

    <script>
        let teaTimer = 0;
        let waterTimer = 0;

        function updateTeaStatus(status) {
            fetch('/update-tea-status', {
                method: 'POST',
                headers: { 'Content-Type': 'application/json' },
                body: JSON.stringify({ status })
            }).then(() => alert('Çay durumu güncellendi.'));
        }

        function adjustTeaTimer(amount) {
            teaTimer = Math.max(0, teaTimer + amount);
            document.getElementById('tea-timer').innerText = `${teaTimer} Dakika`;
            fetch('/update-tea-timer', {
                method: 'POST',
                headers: { 'Content-Type': 'application/json' },
                body: JSON.stringify({ timer: teaTimer })
            });
        }

        function updateWaterStatus(status) {
            fetch('/update-water-status', {
                method: 'POST',
                headers: { 'Content-Type': 'application/json' },
                body: JSON.stringify({ status })
            }).then(() => alert('Su durumu güncellendi.'));
        }

        function adjustWaterTimer(amount) {
            waterTimer = Math.max(0, waterTimer + amount);
            document.getElementById('water-timer').innerText = `${waterTimer} Dakika`;
            fetch('/update-water-timer', {
                method: 'POST',
                headers: { 'Content-Type': 'application/json' },
                body: JSON.stringify({ timer: waterTimer })
            });
        }
    </script>
</body>
</html>
